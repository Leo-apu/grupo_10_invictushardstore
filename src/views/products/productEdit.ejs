<!DOCTYPE html>
<html lang="es">

<head>
    <%- include('../partials/head.ejs') %>
        <link rel="icon" href="/images/logo-InvictusHardStore-1.png">
        <link rel="stylesheet" href="/css/index.css">
        <link rel="stylesheet" href="/css/editarProducto.css">
        <script src="https://unpkg.com/validator@latest/validator.min.js"></script>
        <title>Modificar producto</title>
</head>

<body>
    <header>
        <%- include('../partials/header.ejs') %>
    </header>

    <main>
        <section class="section-crearProducto">
            <form action="/products/update/<%= Product.id %>" method="POST" >

               <article class="article-crearProducto">
                <h2 class="crearProducto-titulo">Información General</h2>

                <label class="crearProducto-subtitulo" for="name">Nombre del Producto:</label>
                <input type="text" id="name" name="name" value="<%= Product.name %>" required>

                <label class="crearProducto-subtitulo" for="description">Descripción:</label>
                <textarea id="description" name="description" rows="4" required> <%= Product.description %></textarea>

                <label class="precio-container crearProducto-subtitulo" for="price">Precio:</label>
                <div class="precio-container">                    
                    <input type="text" id="price" name="price" value="<%= Product.price %>" required>
                </div>

                <h2 class="crearProducto-titulo">Imagen del Producto</h2>
                <input type="file" id="imagen" name="imagen" accept="image/*" >

                <div class="col-12 col-md-6">
                    <label for="categoria" class="form-label">Categoría:</label>
                    <select id="" name="category_id" class="form-input" required>
                        <% allCategories.forEach(category => { %>
                            <option value="<%= category.id %>" <% if (Product.category.id == category.id) { %><%= 'selected' %><% }; %>><%= category.name %></option>
                        <% }); %> 
                    </select>
                </div>
                <ul id="errorContainer" class="error-container"></ul>
                <div class="botones">
                    <button class="boton crear" type="submit">MODIFICAR</button>
                </div>
            </article>
        </form>
        </section>
    </main>
    <br>
    <footer>
        <%- include('../partials/footer.ejs') %>
    </footer>
    <script src="/js/productEditValidation.js"></script>
</body>

</html>